// ============================================================================
// HOUSEHOLD MANAGEMENT MODELS
// ============================================================================

model Household {
  id           String   @id @default(uuid())
  name         String
  description  String?
  type         HouseholdType
  isPrimary    Boolean  @default(false)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  
  // Relationships
  members      HouseholdMember[]
  dashboards   Dashboard[]
  
  @@map("households")
}

model HouseholdMember {
  id          String        @id @default(uuid())
  userId      String
  householdId String
  role        HouseholdRole
  joinedAt    DateTime      @default(now())
  expiresAt   DateTime?     // For temporary guests
  isActive    Boolean       @default(true)
  
  // Relationships
  user        User          @relation(fields: [userId], references: [id])
  household   Household     @relation(fields: [householdId], references: [id])
  
  @@unique([userId, householdId])
  @@index([userId])
  @@index([householdId])
  @@map("household_members")
}
